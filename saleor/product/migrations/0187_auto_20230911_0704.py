# Generated by Django 3.2.20 on 2023-09-11 07:04

import django.contrib.postgres.indexes
from django.db import migrations, models
from django.contrib.postgres.operations import AddIndexConcurrently


class Migration(migrations.Migration):
    atomic = False

    dependencies = [
        ("product", "0186_remove_product_charge_taxes"),
    ]

    operations = [
        migrations.AddField(
            model_name="category",
            name="updated_at",
            field=models.DateTimeField(auto_now=True, null=True),
        ),
        AddIndexConcurrently(
            model_name="category",
            index=django.contrib.postgres.indexes.GinIndex(
                fields=["updated_at"], name="updated_at_idx"
            ),
        ),
        migrations.RunSQL(
            """
            ALTER TABLE product_category
            ALTER COLUMN updated_at
            SET DEFAULT NOW();
            """,
            migrations.RunSQL.noop,
        ),
    ]
